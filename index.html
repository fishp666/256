<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>倒计时</title>
  <style>
    html, body {
      margin: 0; padding: 0;
      width: 100vw; height: 100vh;
      background: #fff;
      font-family: huangyou, sans-serif;
      color: #333;
      box-sizing: border-box;
    }
    .container {
      width: 100vw;
      min-height: 100vh;
      box-sizing: border-box;
      padding: 3vw 4vw 6vw 4vw;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: stretch;
    }
    .title {
      text-align: center;
      font-size: 4vw;
      font-weight: bold;
      margin-bottom: 6vw;
      letter-spacing: 0.5vw;
    }
    .countdown-item {
      display: flex;
      align-items: center;
      margin-bottom: 4vw;
      width: 100%;
    }
    .cd-label {
      width: 15vw;
      min-width: 80px;
      font-size: 2vw;
      text-align: right;
      margin-right: 2vw;
    }
    .cd-progress {
      flex: 1;
      height: 2vw;
      min-height: 18px;
      background: #eee;
      border-radius: 1vw;
      margin: 0 2vw;
      overflow: hidden;
      position: relative;
    }
    .cd-bar {
      background: #2196f3;
      height: 100%;
      border-radius: 1vw;
      transition: width 0.3s;
      position: absolute;
      left: 0; top: 0;
    }
    .cd-info {
      width: 18vw;
      min-width: 120px;
      font-size: 1.7vw;
      color: #333;
      text-align: left;
      word-break: break-all;
    }
    .cd-info strong {
      color: #e91e63;
      font-size: 2vw;
    }
    @media (max-width: 700px) {
      .title { font-size: 7vw; }
      .cd-label { font-size: 4vw; min-width: 55px;}
      .cd-info { font-size: 3.2vw; min-width: 80px;}
      .cd-progress { height: 4vw; min-height: 10px;}
      .cd-info strong { font-size: 4vw;}
    }
    @media (max-width: 450px) {
      .title { font-size: 9vw; }
      .cd-label { font-size: 5vw; min-width: 38px;}
      .cd-info { font-size: 4vw; min-width: 60px;}
      .cd-progress { height: 6vw; min-height: 6px;}
      .cd-info strong { font-size: 5vw;}
    }
  </style>
</head>
<body>
  <div class="container" id="root">
    <div class="title">倒计时</div>
    <div class="countdown-item" v-for="item in countdowns" :key="item.name">
      <div class="cd-label">{{item.name}}</div>
      <div class="cd-progress">
        <div class="cd-bar" :style="{width: item.progress+'%'}"></div>
      </div>
      <div class="cd-info">
        <strong>{{item.remainStr}}</strong>
        <br>
        / {{item.targetDateStr}}
      </div>
    </div>
  </div>
<script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.min.js"></script>
<script>
function pad(num) { return num < 10 ? '0' + num : num; }
function formatRemain(ms) {
  if (ms < 0) ms = 0;
  var days = Math.floor(ms / (24*60*60*1000));
  ms %= (24*60*60*1000);
  var hours = Math.floor(ms / (60*60*1000));
  ms %= (60*60*1000);
  var minutes = Math.floor(ms / (60*1000));
  ms %= (60*1000);
  var seconds = Math.floor(ms / 1000);
  return `${days}天 ${pad(hours)}:${pad(minutes)}:${pad(seconds)}`;
}
function formatDateStr(date) {
  var d = new Date(date);
  return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;
}
new Vue({
  el: "#root",
data() {
  return {
    created: (new Date()).toISOString().slice(0, 10), 
    countdownList: [
      { name: "中考", target: "2025/12/01 00:00:00" },
      { name: "高考", target: "2026/06/07 00:00:00" }
    ],
    countdowns: []
  }
},
  methods: {
    updateCountdowns() {
      var now = new Date();
      this.countdowns = this.countdownList.map(item => {
        var targetDate = new Date(item.target);
        var createdDate = new Date(this.created);
        var remainMs = targetDate - now;
        var totalMs = targetDate - createdDate;
        var usedMs = totalMs - remainMs;
        var progress = Math.min(100, Math.max(0, (usedMs / totalMs * 100).toFixed(2)));
        return {
          name: item.name,
          remainStr: formatRemain(remainMs),
          targetDateStr: formatDateStr(targetDate),
          progress: progress
        }
      });
    }
  },
  mounted() {
    this.updateCountdowns();
    setInterval(this.updateCountdowns, 1000);
  }
})
</script>
</body>
</html>
